LGA <- LGA %>% separate(LGA,sep="[\s(]",c("LGA","Index"))
LGA <- LGA %>% separate(LGA,sep="[ (]",c("LGA","Index"))
LGA <- LGA[,-2]
LGA <- LGA %>% arrange(LGA)
all_medianp_2018 <- all_medianp_2018 %>% arrange(LGA)
loc_2018 <- right_join(LGA,all_medianp_2018,by='LGA')
LGA <- LGA_mod[!duplicated(LGA_mod$LGA),]
LGA <- LGA[,-c(1,4,5,6)]
LGA <- LGA[,c(2,1,3,4)]
LGA <- LGA %>% separate(LGA,sep="[ (]",c("LGA","Index"))
LGA <- LGA %>% separate(LGA,sep=" (",c("LGA","Index"))
LGA <- LGA %>% separate(LGA,sep="^ ($",c("LGA","Index"))
LGA <- LGA %>% separate(LGA,sep="^[ (]$",c("LGA","Index"))
LGA_mod <- LGAjoin %>% group_by(LGA) %>% mutate(avg_lat = mean(lat),avg_lon = mean(lon))
LGA <- LGA_mod[!duplicated(LGA_mod$LGA),]
LGA <- LGA[,-c(1,4,5,6)]
LGA <- LGA[,c(2,1,3,4)]
LGA <- LGA %>% separate(LGA,sep="^[ (]$",c("LGA","Index"))
LGA <- LGA %>% separate(LGA,sep="^[ (]$",c("LGA","Index"))
LGA <- LGA %>% separate(LGA,sep="[ (]",c("LGA","Index"))
LGA_mod <- LGAjoin %>% group_by(LGA) %>% mutate(avg_lat = mean(lat),avg_lon = mean(lon))
LGA <- LGA_mod[!duplicated(LGA_mod$LGA),]
LGA <- LGA %>% separate(LGA,sep="[\s]",c("LGA","Index"))
LGA <- LGA %>% separate(LGA,sep="[^ (]",c("LGA","Index"))
LGA <- LGA_mod[!duplicated(LGA_mod$LGA),]
LGA <- LGA %>% separate(LGA,sep="^[^ (]",c("LGA","Index"))
LGA <- LGA[,-2]
LGA <- LGA_mod[!duplicated(LGA_mod$LGA),]
LGA <- LGA %>% separate(LGA,sep="^[^ (]",c("LGA","Index"))
LGA <- LGA_mod[!duplicated(LGA_mod$LGA),]
LGA <- LGA %>% separate(LGA,sep="[^ (]",c("LGA","Index"))
LGA_mod <- LGAjoin %>% group_by(LGA) %>% mutate(avg_lat = mean(lat),avg_lon = mean(lon))
LGA <- LGA %>% separate(LGA,sep="^[^\(]",c("LGA","Index"))
LGA <- LGA %>% separate(LGA,sep="^[(]",c("LGA","Index"))
LGA <- LGA_mod[!duplicated(LGA_mod$LGA),]
LGA <- LGA %>% separate(LGA,sep="[(]",c("LGA","Index"))
LGA <- LGA_mod[!duplicated(LGA_mod$LGA),]
LGA <- LGA[,-c(1,4,5,6)]
LGA <- LGA[,c(2,1,3,4)]
LGA <- LGA %>% separate(LGA,sep="[(]",c("LGA","Index"))
trim.trailing <- function (x) sub("\\s+$", "", x)
LGA$LGA <- trim(LGA$LGA)
LGA$LGA <- trim.trailing(LGA$LGA)
LGA <- LGA[,-2]
LGA <- LGA %>% arrange(LGA)
all_medianp_2018 <- all_medianp_2018 %>% arrange(LGA)
loc_2018 <- right_join(LGA,all_medianp_2018,by='LGA')
map.tokyo <- get_map("Tokyo")
vic <- get_map(location = c(lon = 144.7852, lat = -37.4713), zoom=5)
vic <- get_map(location=c(lon=133.8807, lat=-23.6980), zoom=4)
library(learnr)
knitr::opts_chunk$set(echo = TRUE,
message = FALSE,
warning = FALSE,
collapse = TRUE,
fig.height = 6,
fig.width = 6,
fig.align = "center",
cache = FALSE)
tutorial_html_dependency()
library(tidyverse)
library(plotly)
library(readxl)
library(visdat)
library(foreign)
library(maptools)
library(ggmap)
library(plyr)
all_medianp_2018 <- all_medianp %>% filter(year == 2018)
all_medianp_2018 <- all_medianp_2018 %>% mutate(LGA = Suburb)
all_medianp_2018 <- all_medianp_2018[,c(6,2,3,4,5)]
LGA <- LGA %>% arrange(LGA)
all_medianp_2018 <- all_medianp_2018 %>% arrange(LGA)
loc_2018 <- right_join(LGA,all_medianp_2018,by='LGA')
vic <- get_map(location=c(lon=133.8807, lat=-23.6980), zoom=4)
ggmap(vic) +
geom_point(data=loc_2018, aes(x=lon, y=lat),
alpha=0.5, colour=values, size=0.5)
```{r eval = FALSE}
lganames <- read.dbf("data/VIC_LGA_POLYGON_shp.dbf")
lgapoly <- readShapePoly("data/VIC_LGA_POLYGON_shp.shp")
lgamap <- get_map(location = c(lon = 144.7852, lat = -37.4713), zoom=5)
ggmap(lgapoly) +
geom_polygon(aes(x = long,
y = lat,
group = group),
data = area.points,
color = colors[9],
fill = colors[6],
alpha = 0.5) +
labs(x = "Longitude",
y = "Latitude")
library(learnr)
knitr::opts_chunk$set(echo = TRUE,
message = FALSE,
warning = FALSE,
collapse = TRUE,
fig.height = 6,
fig.width = 6,
fig.align = "center",
cache = FALSE)
tutorial_html_dependency()
library(tidyverse)
library(plotly)
library(readxl)
library(visdat)
library(foreign)
library(maptools)
library(ggmap)
library(plyr)
lganames <- read.dbf("data/VIC_LGA_POLYGON_shp.dbf")
lgapoly <- readShapePoly("data/VIC_LGA_POLYGON_shp.shp")
lgamap <- get_map(location = c(lon = 144.7852, lat = -37.4713), zoom=5)
ggmap(lgapoly) +
geom_polygon(aes(x = long,
y = lat,
group = group),
data = area.points,
color = colors[9],
fill = colors[6],
alpha = 0.5) +
labs(x = "Longitude",
y = "Latitude")
all <- read_xlsx("data/Quarterly median rents by local government area - March quarter 2018.xlsx",sheet = 7)
head(all)
all <- all[,-1]
all <- all %>% rename("Suburb" = "X__2")
library(learnr)
knitr::opts_chunk$set(echo = TRUE,
message = FALSE,
warning = FALSE,
collapse = TRUE,
fig.height = 6,
fig.width = 6,
fig.align = "center",
cache = FALSE)
tutorial_html_dependency()
library(tidyverse)
library(plotly)
library(readxl)
library(visdat)
library(foreign)
library(maptools)
library(ggmap)
library(plyr)
all <- read_xlsx("data/Quarterly median rents by local government area - March quarter 2018.xlsx",sheet = 7)
head(all)
all <- all[,-1]
all <- all %>% rename("Suburb" = "X__2")
View(all)
vec1 <- seq(2,ncol(all),2)
vec2 <- seq(3,ncol(all),2)
colnames(all)[vec2] <- colnames(all)[vec1]
colnames(all)[vec1] <- paste(colnames(all)[vec2],"_Count",sep='')
colnames(all)[vec2] <- paste(colnames(all)[vec2],"_Median",sep='')
all <- all[-c(1,90),]
all_f <- all %>% gather(variable, values, -Suburb) %>% arrange(Suburb)
all_f <- all_f %>% separate(variable, c("month","year","type"),by="_")
all_f <- all %>% gather(variable, values, -Suburb) %>% arrange(Suburb)
#all <- all %>% rename("Suburb" = "X__2")
colnames(all)[1] <- "Surburb"
all <- read_xlsx("data/Quarterly median rents by local government area - March quarter 2018.xlsx",sheet = 7)
head(all)
all <- all[,-1]
#all <- all %>% rename("Suburb" = "X__2")
colnames(all)[1] <- "Surburb"
vec1 <- seq(2,ncol(all),2)
vec2 <- seq(3,ncol(all),2)
colnames(all)[vec2] <- colnames(all)[vec1]
colnames(all)[vec1] <- paste(colnames(all)[vec2],"_Count",sep='')
colnames(all)[vec2] <- paste(colnames(all)[vec2],"_Median",sep='')
all <- all[-c(1,90),]
all_f <- all %>% gather(variable, values, -Suburb) %>% arrange(Suburb)
all <- read_xlsx("data/Quarterly median rents by local government area - March quarter 2018.xlsx",sheet = 7)
head(all)
all <- all[,-1]
#all <- all %>% rename("Suburb" = "X__2")
colnames(all)[1] <- "Surburb"
#all <- all %>% rename("Suburb" = "X__2")
colnames(all)[1] <- "Suburb"
all <- read_xlsx("data/Quarterly median rents by local government area - March quarter 2018.xlsx",sheet = 7)
head(all)
all <- all[,-1]
#all <- all %>% rename("Suburb" = "X__2")
colnames(all)[1] <- "Suburb"
vec1 <- seq(2,ncol(all),2)
vec2 <- seq(3,ncol(all),2)
colnames(all)[vec2] <- colnames(all)[vec1]
colnames(all)[vec1] <- paste(colnames(all)[vec2],"_Count",sep='')
colnames(all)[vec2] <- paste(colnames(all)[vec2],"_Median",sep='')
all <- all[-c(1,90),]
all_f <- all %>% gather(variable, values, -Suburb) %>% arrange(Suburb)
all_f <- all_f %>% separate(variable, c("month","year","type"),by="_")
all_medianp <- all_f %>% filter(type == "Median")
all_counts <- all_f %>% filter(type == "Count")
vis_dat(all)
all_medianp_2018 <- all_medianp %>% filter(year == 2018)
all_medianp_2018 <- all_medianp_2018 %>% mutate(LGA = Suburb)
all_medianp_2018 <- all_medianp_2018[,c(6,2,3,4,5)]
LGA <- LGA %>% arrange(LGA)
# to retrieve the average lat and lon from the files
LGACouncil <- read_csv("data/fileslocalgovt.csv")
LatLon <- read_csv("data/Australian_Post_Codes_Lat_Lon 2.csv")
LatLon <- LatLon[,c(1,2,3,6,7)]
LatLon <- LatLon %>% filter(state == 'VIC')
LatLon <- LatLon %>% mutate(Postcode = postcode)
LatLon <- LatLon[,c(6,2,4,5)]
LGACouncil <- LGACouncil[,c(1,4,7)]
#match the coordinate with the LGA
LGAjoin <- left_join(LGACouncil,LatLon, by='Postcode')
LGA_mod <- LGAjoin %>% group_by(LGA) %>% mutate(avg_lat = mean(lat),avg_lon = mean(lon))
LGA <- LGA_mod[!duplicated(LGA_mod$LGA),]
LGA <- LGA[,-c(1,4,5,6)]
LGA <- LGA[,c(2,1,3,4)]
LGA <- LGA %>% separate(LGA,sep="[(]",c("LGA","Index"))
# remove trailing whitespace
trim.trailing <- function (x) sub("\\s+$", "", x)
LGA$LGA <- trim.trailing(LGA$LGA)
LGA <- LGA[,-2]
all_medianp_2018 <- all_medianp %>% filter(year == 2018)
all_medianp_2018 <- all_medianp_2018 %>% mutate(LGA = Suburb)
all_medianp_2018 <- all_medianp_2018[,c(6,2,3,4,5)]
LGA <- LGA %>% arrange(LGA)
all_medianp_2018 <- all_medianp_2018 %>% arrange(LGA)
loc_2018 <- right_join(LGA,all_medianp_2018,by='LGA')
vic <- get_map(location=c(lon=133.8807, lat=-23.6980), zoom=4)
ggmap(vic) +
geom_point(data=loc_2018, aes(x=lon, y=lat),
alpha=0.5, colour=values, size=0.5)
ggmap(vic) +
geom_point(data=loc_2018, aes(x=lon, y=lat),
alpha=0.5, colour='red', size=0.5)
ggmap(vic) +
geom_point(data=loc_2018, aes(x=avg_lon, y=avg_lat),
alpha=0.5, colour='red', size=0.5)
vic <- get_map(location=c(lon=144.9646, lat=-33.0201), zoom=4)
ggmap(vic) +
geom_point(data=loc_2018, aes(x=avg_lon, y=avg_lat),
alpha=0.5, colour='red', size=0.5)
vic <- get_map(location=c(lon=144.9646, lat=-33.0201), zoom=10)
vic <- get_map(location=c(lon=144.9646, lat=-33.0201), zoom=10)
ggmap(vic) +
geom_point(data=loc_2018, aes(x=avg_lon, y=avg_lat),
alpha=0.5, colour='red', size=0.5)
vic <- get_map(location=c(lon=144.9646, lat=-33.0201), zoom=6)
vic <- get_map(location=c(lon=144.9646, lat=-33.0201), zoom=6)
ggmap(vic) +
geom_point(data=loc_2018, aes(x=avg_lon, y=avg_lat),
alpha=0.5, colour='red', size=0.5)
vic <- get_map(location=c(lon=144.9646, lat=-33.0201), zoom=8)
vic <- get_map(location=c(lon=144.9646, lat=-33.0201), zoom=5)
ggmap(vic) +
geom_point(data=loc_2018, aes(x=avg_lon, y=avg_lat),
alpha=0.5, colour='red', size=0.5)
vic <- get_map(location=c(lon=144.9646, lat=-33.0201), zoom=7)
ggmap(vic) +
geom_point(data=loc_2018, aes(x=avg_lon, y=avg_lat),
alpha=0.5, colour='red', size=0.5)
vic <- get_map(location=c(lon=144.9460, lat=-37.8150), zoom=7)
vic <- get_map(location=c(lon=144.9460, lat=-37.8150), zoom=7)
ggmap(vic) +
geom_point(data=loc_2018, aes(x=avg_lon, y=avg_lat),
alpha=0.5, colour='red', size=0.5)
m <- ggmap(vic) +
geom_point(data=loc_2018, aes(x=avg_lon, y=avg_lat),
alpha=0.5, colour='red', size=0.5)
plotly(m)
library(plotly)
plotly(m)
library(plotly)
all_medianp_2018 <- all_medianp %>% filter(year == 2018)
all_medianp_2018 <- all_medianp_2018 %>% mutate(LGA = Suburb)
all_medianp_2018 <- all_medianp_2018[,c(6,2,3,4,5)]
LGA <- LGA %>% arrange(LGA)
all_medianp_2018 <- all_medianp_2018 %>% arrange(LGA)
loc_2018 <- right_join(LGA,all_medianp_2018,by='LGA')
vic <- get_map(location=c(lon=144.9460, lat=-37.8150), zoom=7)
ggmap(vic) +
geom_point(data=loc_2018, aes(x=avg_lon, y=avg_lat),
alpha=0.5, colour='red', size=0.5)
vic <- get_map(location=c(lon=144.9460, lat=-37.8150), zoom=5)
vic <- get_map(location=c(lon=144.9460, lat=-37.8150), zoom=5)
ggmap(vic) +
geom_point(data=loc_2018, aes(x=avg_lon, y=avg_lat),
alpha=0.5, colour='red', size=0.5)
vic <- get_map(location=c(lon=144.9460, lat=-37.8150), zoom=8)
vic <- get_map(location=c(lon=144.9460, lat=-37.8150), zoom=8)
ggmap(vic) +
geom_point(data=loc_2018, aes(x=avg_lon, y=avg_lat),
alpha=0.5, colour='red', size=0.5)
# to retrieve the average lat and lon from the files
LGACouncil <- read_csv("data/fileslocalgovt.csv")
LatLon <- read_csv("data/Australian_Post_Codes_Lat_Lon 2.csv")
LatLon <- LatLon[,c(1,2,3,6,7)]
LatLon <- LatLon %>% filter(state == 'VIC')
LatLon <- LatLon %>% mutate(Postcode = postcode)
LatLon <- LatLon[,c(6,2,4,5)]
LGACouncil <- LGACouncil[,c(1,4,7)]
#match the coordinate with the LGA
LGAjoin <- left_join(LGACouncil,LatLon, by='Postcode')
LGA_mod <- LGAjoin %>% group_by(LGA) %>% mutate(avg_lat = mean(lat),avg_lon = mean(lon))
LGA <- LGA_mod[!duplicated(LGA_mod$LGA),]
LGA <- LGA[,-c(1,4,5,6)]
LGA <- LGA[,c(2,1,3,4)]
LGA <- LGA %>% separate(LGA,sep="[(]",c("LGA","Index"))
# remove trailing whitespace
trim.trailing <- function (x) sub("\\s+$", "", x)
LGA$LGA <- trim.trailing(LGA$LGA)
LGA <- LGA[,-2]
# to retrieve the average lat and lon from the files
LGACouncil <- read_csv("data/fileslocalgovt.csv")
LatLon <- read_csv("data/Australian_Post_Codes_Lat_Lon 2.csv")
LatLon <- LatLon[,c(1,2,3,6,7)]
LatLon <- LatLon %>% filter(state == 'VIC')
LatLon <- LatLon %>% mutate(Postcode = postcode)
LatLon <- LatLon[,c(6,2,4,5)]
LGACouncil <- LGACouncil[,c(1,4,7)]
#match the coordinate with the LGA
LGAjoin <- left_join(LGACouncil,LatLon, by='Postcode')
LGA_mod <- LGAjoin %>% group_by(LGA) %>% mutate(avg_lat = mean(lat),avg_lon = mean(lon))
LGA <- LGA_mod[!duplicated(LGA_mod$LGA),]
View(LGA_mod)
LGA_mod <- LGAjoin %>% group_by(LGA) %>% mutate(avg_lat = mean(lat),avg_lon = mean(lon))
LGA_mod <- LGAjoin %>% group_by(Name) %>% mutate(avg_lat = mean(lat),avg_lon = mean(lon))
lganames <- read.dbf("data/VIC_LGA_POLYGON_shp.dbf")
lgapoly <- readShapePoly("data/VIC_LGA_POLYGON_shp.shp")
lgamap <- get_map(location = c(lon = 144.7852, lat = -37.4713), zoom=5)
ggmap(lgapoly) +
geom_polygon(aes(x = long,
y = lat,
group = group),
data = area.points,
color = colors[9],
fill = colors[6],
alpha = 0.5) +
labs(x = "Longitude",
y = "Latitude")
?mean
?group_by
LGA_mod <- LGAjoin %>% group_by(LGA) %>% mutate(avg_lat = mean(lat),avg_lon = mean(lon))
LGA_mod <- LGAjoin %>% group_by(Postcode) %>% mutate(avg_lat = mean(lat),avg_lon = mean(lon))
LGA_mod <- LGAjoin %>% group_by(Name) %>% mutate(avg_lat = mean(lat),avg_lon = mean(lon))
View(LGAjoin)
#LGA_mod <- LGAjoin %>% group_by(Name) %>% mutate(avg_lat = mean(lat),avg_lon = mean(lon))
LGA <- LGAjoin[!duplicated(LGA_mod$LGA),]
LGA <- LGA[,-c(1,4,5,6)]
LGA <- LGA[,-c(1,4,5,6)]
#match the coordinate with the LGA
LGAjoin <- left_join(LGACouncil,LatLon, by='Postcode')
#LGA_mod <- LGAjoin %>% group_by(Name) %>% mutate(avg_lat = mean(lat),avg_lon = mean(lon))
LGA <- LGAjoin[!duplicated(LGA_mod$LGA),]
LGA <- LGA[,-c(1,4)]
LGA <- LGA[,c(2,1,3,4)]
LGA <- LGA %>% separate(LGA,sep="[(]",c("LGA","Index"))
# remove trailing whitespace
trim.trailing <- function (x) sub("\\s+$", "", x)
LGA$LGA <- trim.trailing(LGA$LGA)
LGA <- LGA[,-2]
library(plotly)
all_medianp_2018 <- all_medianp %>% filter(year == 2018)
all_medianp_2018 <- all_medianp_2018 %>% mutate(LGA = Suburb)
all_medianp_2018 <- all_medianp_2018[,c(6,2,3,4,5)]
LGA <- LGA %>% arrange(LGA)
all_medianp_2018 <- all_medianp_2018 %>% arrange(LGA)
loc_2018 <- right_join(LGA,all_medianp_2018,by='LGA')
vic <- get_map(location=c(lon=144.9460, lat=-37.8150), zoom=8)
loc_2018 <- right_join(LGA,all_medianp_2018,by='LGA')
vic <- get_map(location=c(lon=144.9460, lat=-37.8150), zoom=8)
vic <- get_map(location=c(lon=144.9460, lat=-37.8150), zoom=5)
vic <- get_map(location=c(lon=144.9460, lat=-37.8150), zoom=5)
vic <- get_map(location=c(lon=144.9460, lat=-37.8150), zoom=5)
ggmap(vic) +
geom_point(data=loc_2018, aes(x=avg_lon, y=avg_lat),
alpha=0.5, colour='red', size=0.5)
ggmap(vic) +
geom_point(data=loc_2018, aes(x=lon, y=lat),
alpha=0.5, colour='red', size=0.5)
vic <- get_map(location=c(lon=144.9460, lat=-37.8150), zoom=7)
vic <- get_map(location=c(lon=144.9460, lat=-37.8150), zoom=7)
vic <- get_map(location=c(lon=144.9460, lat=-37.8150), zoom=8)
ggmap(vic) +
geom_point(data=loc_2018, aes(x=lon, y=lat),
alpha=0.5, colour='red', size=0.5)
ggmap(vic) +
geom_point(data=loc_2018, aes(x=lon, y=lat),
alpha=1, colour='red', size=0.5)
vic <- get_map(location=c(lon=144.9460, lat=-37.8150), zoom=6)
ggmap(vic) +
geom_point(data=loc_2018, aes(x=lon, y=lat),
alpha=1, colour='red', size=0.5)
library(plotly)
m <- ggmap(vic) +
geom_point(data=loc_2018, aes(x=lon, y=lat),
alpha=1, colour='red', size=0.5)
ggplotly(m)
m <- ggmap(vic) +
geom_point(data=loc_2018, aes(x=lon, y=lat,label = Values),
alpha=1, colour='red', size=0.5)
ggplotly(m)
m <- ggmap(vic) +
geom_point(data=loc_2018, aes(x=lon, y=lat,label = values),
alpha=1, colour='red', size=0.5)
ggplotly(m)
vic <- get_map(location=c(lon=144.9460, lat=-37.8150), zoom=8)
vic <- get_map(location=c(lon=144.9460, lat=-37.8150), zoom=9)
vic <- get_map(location=c(lon=144.9460, lat=-37.8150), zoom=9)
m <- ggmap(vic) +
geom_point(data=loc_2018, aes(x=lon, y=lat,label = values),
alpha=1, colour='red', size=0.5)
ggplotly(m)
library(learnr)
knitr::opts_chunk$set(echo = TRUE,
message = FALSE,
warning = FALSE,
collapse = TRUE,
fig.height = 6,
fig.width = 6,
fig.align = "center",
cache = FALSE)
tutorial_html_dependency()
library(tidyverse)
library(plotly)
library(readxl)
library(visdat)
library(foreign)
library(maptools)
library(ggmap)
library(plyr)
lganames <- read.dbf("data/VIC_LGA_POLYGON_shp.dbf")
lgapoly <- readShapePoly("data/VIC_LGA_POLYGON_shp.shp")
lgamap <- get_map(location = c(lon = 144.7852, lat = -37.4713), zoom=6)
lganames <- read.dbf("data/VIC_LGA_POLYGON_shp.dbf")
lgapoly <- readShapePoly("data/VIC_LGA_POLYGON_shp.shp")
lgamap <- get_map(location = c(lon = 144.7852, lat = -37.4713), zoom=6)
all <- read_xlsx("data/Quarterly median rents by local government area - March quarter 2018.xlsx",sheet = 7)
head(all)
all <- all[,-1]
#all <- all %>% rename("Suburb" = "X__2")
colnames(all)[1] <- "Suburb"
vec1 <- seq(2,ncol(all),2)
vec2 <- seq(3,ncol(all),2)
colnames(all)[vec2] <- colnames(all)[vec1]
colnames(all)[vec1] <- paste(colnames(all)[vec2],"_Count",sep='')
colnames(all)[vec2] <- paste(colnames(all)[vec2],"_Median",sep='')
all <- all[-c(1,90),]
all_f <- all %>% gather(variable, values, -Suburb) %>% arrange(Suburb)
all_f <- all_f %>% separate(variable, c("month","year","type"),by="_")
all_medianp <- all_f %>% filter(type == "Median")
all_counts <- all_f %>% filter(type == "Count")
vis_dat(all)
# to retrieve the average lat and lon from the files
LGACouncil <- read_csv("data/fileslocalgovt.csv")
LatLon <- read_csv("data/Australian_Post_Codes_Lat_Lon 2.csv")
LatLon <- LatLon[,c(1,2,3,6,7)]
LatLon <- LatLon %>% filter(state == 'VIC')
LatLon <- LatLon %>% mutate(Postcode = postcode)
LatLon <- LatLon[,c(6,2,4,5)]
LGACouncil <- LGACouncil[,c(1,4,7)]
#match the coordinate with the LGA
LGAjoin <- left_join(LGACouncil,LatLon, by='Postcode')
#LGA_mod <- LGAjoin %>% group_by(Name) %>% mutate(avg_lat = mean(lat),avg_lon = mean(lon))
LGA <- LGAjoin[!duplicated(LGA_mod$LGA),]
LGA <- LGA[,-c(1,4)]
LGA <- LGA[,c(2,1,3,4)]
LGA <- LGA %>% separate(LGA,sep="[(]",c("LGA","Index"))
# remove trailing whitespace
trim.trailing <- function (x) sub("\\s+$", "", x)
LGA$LGA <- trim.trailing(LGA$LGA)
LGA <- LGA[,-2]
library(plotly)
all_medianp_2018 <- all_medianp %>% filter(year == 2018)
all_medianp_2018 <- all_medianp_2018 %>% mutate(LGA = Suburb)
all_medianp_2018 <- all_medianp_2018[,c(6,2,3,4,5)]
LGA <- LGA %>% arrange(LGA)
all_medianp_2018 <- all_medianp_2018 %>% arrange(LGA)
loc_2018 <- right_join(LGA,all_medianp_2018,by='LGA')
library(plotly)
vic <- get_map(location=c(lon=144.9460, lat=-37.8150), zoom=9)
vic <- get_map(location=c(lon=144.9460, lat=-37.8150), zoom=9)
testvar <- all_medianp %>%
mutate(date=paste("01-",month,"-",year)) %>%
mutate(date=dmy(date)) %>%
select("Suburb","values","date") %>%
mutate(values=as.numeric(values))
library(learnr)
knitr::opts_chunk$set(echo = TRUE,
message = FALSE,
warning = FALSE,
collapse = TRUE,
fig.height = 6,
fig.width = 6,
fig.align = "center",
cache = FALSE)
tutorial_html_dependency()
library(tidyverse)
library(plotly)
library(readxl)
library(visdat)
library(foreign)
library(maptools)
library(ggmap)
library(plyr)
library(lubridate)
testvar <- all_medianp %>%
mutate(date=paste("01-",month,"-",year)) %>%
mutate(date=dmy(date)) %>%
select("Suburb","values","date") %>%
mutate(values=as.numeric(values))
#glimpse(testvar)
ticks<-c(100,200,300,400,500,600)
testgraph <- testvar %>% ggplot(aes(x=date,y=values,colour=Suburb,yaxt="n"))+geom_smooth(se=FALSE)#+geom_point()+geom_smooth(se=FALSE)#+scale_y_discrete(limits=600)
ggplotly(testgraph)
