colnames(all)[1] <- "Suburb"
vec1 <- seq(2,ncol(all),2)
vec2 <- seq(3,ncol(all),2)
colnames(all)[vec2] <- colnames(all)[vec1]
colnames(all)[vec1] <- paste(colnames(all)[vec2],"_Count",sep='')
colnames(all)[vec2] <- paste(colnames(all)[vec2],"_Median",sep='')
all <- all[-c(1,90),]
all_f <- all %>% gather(variable, values, -Suburb) %>% arrange(Suburb)
all_f <- all_f %>% separate(variable, c("month","year","type"),by="_")
all_medianp <- all_f %>% filter(type == "Median")
all_counts <- all_f %>% filter(type == "Count")
vis_dat(all)
# to retrieve the average lat and lon from the files
LGACouncil <- read_csv("data/fileslocalgovt.csv")
LatLon <- read_csv("data/Australian_Post_Codes_Lat_Lon 2.csv")
LatLon <- LatLon[,c(1,2,3,6,7)]
LatLon <- LatLon %>% filter(state == 'VIC')
LatLon <- LatLon %>% mutate(Postcode = postcode)
LatLon <- LatLon[,c(6,2,4,5)]
LGACouncil <- LGACouncil[,c(1,4,7)]
#match the coordinate with the LGA
LGAjoin <- left_join(LGACouncil,LatLon, by='Postcode')
#LGA_mod <- LGAjoin %>% group_by(Name) %>% mutate(avg_lat = mean(lat),avg_lon = mean(lon))
LGA <- LGAjoin[!duplicated(LGA_mod$LGA),]
# to retrieve the average lat and lon from the files
LGACouncil <- read_csv("data/fileslocalgovt.csv")
LatLon <- read_csv("data/Australian_Post_Codes_Lat_Lon 2.csv")
LatLon <- LatLon[,c(1,2,3,6,7)]
LatLon <- LatLon %>% filter(state == 'VIC')
LatLon <- LatLon %>% mutate(Postcode = postcode)
LatLon <- LatLon[,c(6,2,4,5)]
LGACouncil <- LGACouncil[,c(1,4,7)]
#match the coordinate with the LGA
LGAjoin <- left_join(LGACouncil,LatLon, by='Postcode')
#LGA_mod <- LGAjoin %>% group_by(Name) %>% mutate(avg_lat = mean(lat),avg_lon = mean(lon))
#LGA <- LGAjoin[!duplicated(LGA_mod$LGA),]
LGA <- LGA[,-c(1,4)]
# to retrieve the average lat and lon from the files
LGACouncil <- read_csv("data/fileslocalgovt.csv")
LatLon <- read_csv("data/Australian_Post_Codes_Lat_Lon 2.csv")
LatLon <- LatLon[,c(1,2,3,6,7)]
LatLon <- LatLon %>% filter(state == 'VIC')
LatLon <- LatLon %>% mutate(Postcode = postcode)
LatLon <- LatLon[,c(6,2,4,5)]
LGACouncil <- LGACouncil[,c(1,4,7)]
#match the coordinate with the LGA
LGAjoin <- left_join(LGACouncil,LatLon, by='Postcode')
LGA_mod <- LGAjoin %>% group_by(Name) %>% mutate(avg_lat = mean(lat),avg_lon = mean(lon))
LGA <- LGAjoin[!duplicated(LGA_mod$LGA),]
LGA <- LGA[,-c(1,4)]
LGA <- LGA[,c(2,1,3,4)]
LGA <- LGA %>% separate(LGA,sep="[(]",c("LGA","Index"))
# remove trailing whitespace
trim.trailing <- function (x) sub("\\s+$", "", x)
LGA$LGA <- trim.trailing(LGA$LGA)
LGA <- LGA[,-2]
View(LGA)
all_medianp_2018 <- all_medianp %>% filter(year == 2018)
all_medianp_2018 <- all_medianp_2018 %>% mutate(LGA = Suburb)
all_medianp_2018 <- all_medianp_2018[,c(6,2,3,4,5)]
LGA <- LGA %>% arrange(LGA)
all_medianp_2018 <- all_medianp_2018 %>% arrange(LGA)
loc_2018 <- right_join(LGA,all_medianp_2018,by='LGA')
vic <- get_map(location=c(lon=144.9460, lat=-37.8150), zoom=9)
m <- ggmap(vic) +
geom_point(data=loc_2018, aes(x=lon, y=lat,label = values),
alpha=1, colour='red', size=0.5)
ggplotly(m)
testvar <- all_medianp %>%
mutate(date=paste("01-",month,"-",year)) %>%
mutate(date=dmy(date)) %>%
select("Suburb","values","date") %>%
mutate(values=as.numeric(values))
#glimpse(testvar)
ticks<-c(100,200,300,400,500,600)
testgraph <- testvar %>% ggplot(aes(x=date,y=values,colour=Suburb,yaxt="n"))+geom_line() #geom_smooth(se=FALSE)#+geom_point()+geom_smooth(se=FALSE)#+scale_y_discrete(limits=600)
ggplotly(testgraph)
get_distance = read_csv('data/LGA_Profile_2014_beta.csv')
glimpse(get_distance)
get_distance <- get_distance[,c(2,9)]
glimpse(get_distance)
View(get_distance)
get_distance <- get_distance %>% separate(LGA, c("LGA","index"))
glimpse(get_distance)
View(loc_2018)
loc_2018_added_dis <- left_join(loc_2018,get_distance,by = LGA)
loc_2018_added_dis <- left_join(loc_2018,get_distance,by = "LGA")
View(loc_2018_added_dis)
get_distance = read_csv('data/LGA_Profile_2014_beta.csv')
get_distance <- get_distance[,c(2,9)]
get_distance <- get_distance %>% separate(LGA, sep = "[()]",c("LGA","index"))
glimpse(get_distance)
get_distance = read_csv('data/LGA_Profile_2014_beta.csv')
get_distance <- get_distance[,c(2,9)]
get_distance <- get_distance %>% separate(LGA, sep = "[()]",c("LGA","index"))
get_distance$LGA <- trim.trailing(get_distance$LGA)
get_distance <- get_distance[,-2]
glimpse(get_distance)
loc_2018_added_dis <- left_join(loc_2018,get_distance,by = "LGA")
loc_2018 <- loc_2018 %>% filter('LGA' != c('Group Total','Metro','Non-metro'))
loc_2018 <- loc_2018 %>% filter('LGA' != 'Group Total')
loc_2018 <- loc_2018 %>% filter('LGA' != 'Group Total' ,'LGA' != 'Metro' )
loc_2018 <- loc_2018 %>% filter('LGA' != 'Group Total' ,'LGA' != 'Metro','LGA' != 'Non-metro' )
vic <- get_map(location=c(lon=144.9460, lat=-37.8150), zoom=9)
all_medianp_2018 <- all_medianp %>% filter(year == 2018)
all_medianp_2018 <- all_medianp_2018 %>% mutate(LGA = Suburb)
all_medianp_2018 <- all_medianp_2018[,c(6,2,3,4,5)]
LGA <- LGA %>% arrange(LGA)
all_medianp_2018 <- all_medianp_2018 %>% arrange(LGA)
loc_2018 <- right_join(LGA,all_medianp_2018,by='LGA')
loc_2018 <- loc_2018 %>% filter('LGA' != 'Group Total' ,'LGA' != 'Metro','LGA' != 'Non-metro' )
vic <- get_map(location=c(lon=144.9460, lat=-37.8150), zoom=9)
m <- ggmap(vic) +
geom_point(data=loc_2018, aes(x=lon, y=lat,label = values),
alpha=1, colour='red', size=0.5)
ggplotly(m)
get_distance = read_csv('data/LGA_Profile_2014_beta.csv')
get_distance <- get_distance[,c(2,9)]
get_distance <- get_distance %>% separate(LGA, sep = "[()]",c("LGA","index"))
get_distance$LGA <- trim.trailing(get_distance$LGA)
get_distance <- get_distance[,-2]
glimpse(get_distance)
loc_2018_added_dis <- left_join(loc_2018,get_distance,by = "LGA")
loc_2018 <- loc_2018 %>% filter('LGA' != 'Group Total' ,'LGA' != 'Metro','LGA' != 'Non-metro' )
loc_2018 <- loc_2018 %>% selece('LGA' != 'Group Total' ,'LGA' != 'Metro','LGA' != 'Non-metro' )
?select
?filter
loc_2018 <- loc_2018 %>% select('LGA' != 'Group Total' ,'LGA' != 'Metro','LGA' != 'Non-metro' )
loc_2018 <- loc_2018 %>% filter('LGA' != 'Group Total' & 'LGA' != 'Metro' & 'LGA' != 'Non-metro' )
loc_2018 <- loc_2018 %>% filter(LGA != 'Group Total' & LGA != 'Metro' & LGA != 'Non-metro' )
loc_2018 <- loc_2018 %>% filter(LGA != 'Group Total' & LGA != 'Metro' & LGA != 'Non-metro' & LGA != 'Victoria')
loc_2018 <- loc_2018 %>% filter(LGA != 'Group Total' & LGA != 'Metro' & LGA != 'Non-Metro' & LGA != 'Victoria')
get_distance = read_csv('data/LGA_Profile_2014_beta.csv')
get_distance <- get_distance[,c(2,9)]
get_distance <- get_distance %>% separate(LGA, sep = "[()]",c("LGA","index"))
get_distance$LGA <- trim.trailing(get_distance$LGA)
get_distance <- get_distance[,-2]
glimpse(get_distance)
loc_2018_added_dis <- left_join(loc_2018,get_distance,by = "LGA")
?select
loc_2018 <- loc_2018 %>% select('Mornington Penin\'a' = 'Mornington Peninsula')
loc_2018 <- loc_2018 %>% select('Mornington Peninsula' = 'Mornington Penin\'a')
View(get_distance)
View(LatLon)
all <- read_xlsx("data/Quarterly median rents by local government area - March quarter 2018.xlsx",sheet = 7)
head(all)
all <- all[,-1]
#all <- all %>% rename("Suburb" = "X__2")
colnames(all)[1] <- "Suburb"
vec1 <- seq(2,ncol(all),2)
vec2 <- seq(3,ncol(all),2)
colnames(all)[vec2] <- colnames(all)[vec1]
colnames(all)[vec1] <- paste(colnames(all)[vec2],"_Count",sep='')
colnames(all)[vec2] <- paste(colnames(all)[vec2],"_Median",sep='')
all <- all[-c(1,90),]
all_f <- all %>% gather(variable, values, -Suburb) %>% arrange(Suburb)
all_f <- all_f %>% separate(variable, c("month","year","type"),by="_")
all_medianp <- all_f %>% filter(type == "Median")
all_counts <- all_f %>% filter(type == "Count")
vis_dat(all)
# to retrieve the average lat and lon from the files
LGACouncil <- read_csv("data/fileslocalgovt.csv")
LatLon <- read_csv("data/Australian_Post_Codes_Lat_Lon 2.csv")
LatLon <- LatLon[,c(1,2,3,6,7)]
LatLon <- LatLon %>% filter(state == 'VIC')
LatLon <- LatLon %>% mutate(Postcode = postcode)
LatLon <- LatLon[,c(6,2,4,5)]
LGACouncil <- LGACouncil[,c(1,4,7)]
#match the coordinate with the LGA
LGAjoin <- left_join(LGACouncil,LatLon, by='Postcode')
LGA_mod <- LGAjoin %>% group_by(Name) %>% mutate(avg_lat = mean(lat),avg_lon = mean(lon))
LGA <- LGAjoin[!duplicated(LGA_mod$LGA),]
LGA <- LGA[,-c(1,4)]
LGA <- LGA[,c(2,1,3,4)]
LGA <- LGA %>% separate(LGA,sep="[(]",c("LGA","Index"))
# remove trailing whitespace
trim.trailing <- function (x) sub("\\s+$", "", x)
LGA$LGA <- trim.trailing(LGA$LGA)
LGA <- LGA[,-2]
all_medianp_2018 <- all_medianp %>% filter(year == 2018)
all_medianp_2018 <- all_medianp_2018[,c(6,2,3,4,5)]
all_medianp_2018 <- all_medianp %>% filter(year == 2018)
all_medianp_2018 <- all_medianp_2018 %>% mutate(LGA = Suburb)
all_medianp_2018 <- all_medianp_2018[,c(6,2,3,4,5)]
LGA <- LGA %>% arrange(LGA)
all_medianp_2018 <- all_medianp_2018 %>% arrange(LGA)
loc_2018 <- right_join(LGA,all_medianp_2018,by='LGA')
loc_2018 <- loc_2018 %>% filter(LGA != 'Group Total' & LGA != 'Metro' & LGA != 'Non-Metro' & LGA != 'Victoria')
loc_2018 <- loc_2018 %>% select('Mornington Peninsula' = 'Mornington Penin\'a')
loc_2018 <- loc_2018 %>% select('Mornington Penin\'a' = 'Mornington Peninsula')
select(loc_2018, 'Mornington Penin\'a' = 'Mornington Peninsula')
select(loc_2018,'Mornington Peninsula' = 'Mornington Penin\'a')
rename(loc_2018,'Mornington Peninsula' = 'Mornington Penin\'a')
rename(loc_2018,'Mornington Peninsula' = 'Mornington Penin\'a')
rename(loc_2018,'Mornington Penin\'a' = 'Mornington Peninsula')
filter(loc_2018,'Mornington Penin\'a' = 'Mornington Peninsula')
f <- loc_2018 %>% filter('Mornington Penin\'a')
f <- loc_2018 %>% filter(LGA = 'Mornington Penin\'a')
f <- loc_2018 %>% filter(LGA == 'Mornington Penin\'a')
View(f)
f <- loc_2018 %>% select('Mornington Penin\'a')
f <- loc_2018 %>% select(LGA$LGA = 'Mornington Penin\'a')
f <- loc_2018 %>% select(LGA$LGA == 'Mornington Penin\'a')
f <- loc_2018 %>% select(LGA$LGA)
f <- loc_2018 %>% select(LGA)
View(f)
loc_2018$LGA[loc_2018$LGA  == 'Mornington Penin\'a'] <- "Mornington Pennisula"
loc_2018$LGA[loc_2018$LGA  == 'Mornington Penin\'a'] <- "Mornington Peninsula"
vic <- get_map(location=c(lon=144.9460, lat=-37.8150), zoom=9)
m <- ggmap(vic) +
geom_point(data=loc_2018, aes(x=lon, y=lat,label = values),
alpha=1, colour='red', size=0.5)
ggplotly(m)
vic <- get_map(location=c(lon=144.9460, lat=-37.8150), zoom=9)
m <- ggmap(vic) +
geom_point(data=loc_2018, aes(x=lon, y=lat,label = values),
al
ggplotly(m)
ggplotly(m)
get_distance = read_csv('data/LGA_Profile_2014_beta.csv')
get_distance <- get_distance[,c(2,9)]
get_distance <- get_distance %>% separate(LGA, sep = "[()]",c("LGA","index"))
get_distance$LGA <- trim.trailing(get_distance$LGA)
get_distance <- get_distance[,-2]
glimpse(get_distance)
loc_2018_added_dis <- left_join(loc_2018,get_distance,by = "LGA")
ggplot(loc_2018_added_dis, aes(x=values,y=Distance_to_Melbourne_in_km)) + geom_point() + geom_line()
ggplot(loc_2018_added_dis, aes(x=Distance_to_Melbourne_in_km, y=values)) + geom_point() + geom_line()
ggplot(loc_2018_added_dis, aes(x=Distance_to_Melbourne_in_km, y=values)) + geom_point()
ggplot(loc_2018_added_dis, aes(x=Distance_to_Melbourne_in_km, y=values)) + geom_point() + ylab("Price")
ggplot(loc_2018_added_dis, aes(x=Distance_to_Melbourne_in_km, y=values)) + geom_point() + ylab("Price") + title("Price change by distance to Melbourne CBD in 2018")
ggplot(loc_2018_added_dis, aes(x=Distance_to_Melbourne_in_km, y=values)) + geom_point() + ylab("Price") + title("2018")
ggplot(loc_2018_added_dis, aes(x=Distance_to_Melbourne_in_km, y=values)) + geom_point() + ylab("Price") + ggtitle("2018")
ggplot(loc_2018_added_dis, aes(x=Distance_to_Melbourne_in_km, y=values)) + geom_point() + ylab("Price") + ggtitle("Price changed by distance to Melbourne in 2018")
ggplot(loc_2018_added_dis, aes(x=Distance_to_Melbourne_in_km, y=values),label = LGA) + geom_point() + ylab("Price") + ggtitle("Price changed by distance to Melbourne in 2018")
ggplotly(p)
p <- ggplot(loc_2018_added_dis, aes(x=Distance_to_Melbourne_in_km, y=values,label = LGA)) + geom_point() + ylab("Price") + ggtitle("Price changed by distance to Melbourne in 2018")
ggplotly(p)
p <- ggplot(loc_2018_added_dis, aes(x=Distance_to_Melbourne_in_km, y=values,label = LGA)) + geom_point() + ylab("Price") + ggtitle("Price changed by distance to Melbourne CBD in 2018")
ggplotly(p)
p <- ggplot(loc_2018_added_dis, aes(x=Distance_to_Melbourne_in_km, y=values,label = LGA)) + geom_point() + ylab("Rental Price") + ggtitle("Price changed by distance to Melbourne CBD in 2018")
ggplotly(p)
library(learnr)
knitr::opts_chunk$set(echo = TRUE,
message = FALSE,
warning = FALSE,
collapse = TRUE,
fig.height = 6,
fig.width = 6,
fig.align = "center",
cache = FALSE)
tutorial_html_dependency()
library(tidyverse)
library(plotly)
library(readxl)
library(visdat)
library(foreign)
library(maptools)
library(ggmap)
library(plyr)
library(lubridate)
testvar <- all_medianp %>%
mutate(date=paste("01-",month,"-",year)) %>%
mutate(date=dmy(date)) %>%
select("Suburb","values","date") %>%
mutate(values=as.numeric(values))
#glimpse(testvar)
ticks<-c(100,200,300,400,500,600)
testgraph <- testvar %>% ggplot(aes(x=date,y=values,colour=Suburb,yaxt="n"))+geom_line() #geom_smooth(se=FALSE)#+geom_point()+geom_smooth(se=FALSE)#+scale_y_discrete(limits=600)
ggplotly(testgraph)
testgraph
testgraph
testvar <- all_medianp %>%
mutate(date=paste("01-",month,"-",year)) %>%
mutate(date=dmy(date)) %>%
select("Suburb","values","date") %>%
mutate(values=as.numeric(values))
ticks<-c(100,200,300,400,500,600)
testgraph <- testvar %>% ggplot(aes(x=date,y=values,colour=Suburb,yaxt="n"))+geom_line()
ggplotly(testgraph)
#identify regression trees. this will help to identify regions of similar trend
medianrentps_rp <- rpart(values~date,data=medianrentps,control=rpart.control(minsplit=5))
library(learnr)
knitr::opts_chunk$set(echo = TRUE,
message = FALSE,
warning = FALSE,
collapse = TRUE,
fig.height = 6,
fig.width = 6,
fig.align = "center",
cache = FALSE)
tutorial_html_dependency()
library(tidyverse)
library(plotly)
library(readxl)
library(visdat)
library(foreign)
library(maptools)
library(ggmap)
library(plyr)
library(lubridate)
library(rpart)
library(rpart.plot)
#identify regression trees. this will help to identify regions of similar trend
medianrentps_rp <- rpart(values~date,data=medianrentps,control=rpart.control(minsplit=5))
#tidy data into usable form, keeping suburb, values and date
medianrentps <- all_medianp %>%
mutate(date=paste("01-",month,"-",year)) %>%
mutate(date=dmy(date)) %>%
select("Suburb","values","date") %>%
mutate(values=as.numeric(values))
medianrentps_plot <- medianrentps %>% ggplot(aes(x=date,y=values,colour=Suburb,yaxt="n"))+geom_line()
ggplotly(testgraph)
#identify regression trees. this will help to identify regions of similar trend
medianrentps_rp <- rpart(values~date,data=medianrentps,control=rpart.control(minsplit=5))
medianrentps_pred <- medianrentps %>% mutate(pred=predict(medianrentps_rp,medianrentps))
medianrentps_rp_plot <- ggplot()
#tidy data into usable form, keeping suburb, values and date
medianrentps <- all_medianp %>%
mutate(date=paste("01-",month,"-",year)) %>%
mutate(date=dmy(date)) %>%
select("Suburb","values","date") %>%
mutate(values=as.numeric(values))
medianrentps_plot <- medianrentps %>% ggplot(aes(x=date,y=values,colour=Suburb,yaxt="n"))+geom_line()
#ggplotly(medianrentps_plot)
#identify regression trees. this will help to identify regions of similar trend
medianrentps_rp <- rpart(values~date,data=medianrentps,control=rpart.control(minsplit=5))
medianrentps_pred <- medianrentps %>% mutate(pred=predict(medianrentps_rp,medianrentps))
medianrentps_rp_plot <- ggplot()
library(learnr)
knitr::opts_chunk$set(echo = TRUE,
message = FALSE,
warning = FALSE,
collapse = TRUE,
fig.height = 6,
fig.width = 6,
fig.align = "center",
cache = FALSE)
tutorial_html_dependency()
library(tidyverse)
library(plotly)
library(readxl)
library(visdat)
library(foreign)
library(maptools)
library(ggmap)
library(plyr)
library(lubridate)
library(rpart)
library(rpart.plot)
#tidy data into usable form, keeping suburb, values and date
medianrentps <- all_medianp %>%
mutate(date=paste("01-",month,"-",year)) %>%
mutate(date=dmy(date)) %>%
select("Suburb","values","date") %>%
mutate(values=as.numeric(values))
medianrentps_plot <- medianrentps %>% ggplot(aes(x=date,y=values,colour=Suburb))+geom_line()
#ggplotly(medianrentps_plot)
#identify regression trees. this will help to identify regions of similar trend
medianrentps_rp <- rpart(values~date,data=medianrentps,control=rpart.control(minsplit=5))
medianrentps_pred <- medianrentps %>% mutate(pred=predict(medianrentps_rp,medianrentps))
medianrentps_rp_plot <- ggplot(medianrentps_pred) + geom_point(aes(x=date,y=value)) + geom_line(aes(x=date,y=pred),colour="orange",size=1.5)
medianrentps_rp_plot
#tidy data into usable form, keeping suburb, values and date
medianrentps <- all_medianp %>%
mutate(date=paste("01-",month,"-",year)) %>%
mutate(date=dmy(date)) %>%
select("Suburb","values","date") %>%
mutate(values=as.numeric(values))
medianrentps_plot <- medianrentps %>% ggplot(aes(x=date,y=values,colour=Suburb))+geom_line()
#ggplotly(medianrentps_plot)
#identify regression trees. this will help to identify regions of similar trend
medianrentps_rp <- rpart(values~date,data=medianrentps,control=rpart.control(minsplit=5))
medianrentps_pred <- medianrentps %>% mutate(pred=predict(medianrentps_rp,medianrentps))
medianrentps_rp_plot <- ggplot(medianrentps_pred) + geom_point(aes(x=date,y=values)) + geom_line(aes(x=date,y=pred),colour="orange",size=1.5)
medianrentps_rp_plot
#tidy data into usable form, keeping suburb, values and date
medianrentps <- all_medianp %>%
mutate(date=paste("01-",month,"-",year)) %>%
mutate(date=dmy(date)) %>%
select("Suburb","values","date") %>%
mutate(values=as.numeric(values))
medianrentps_plot <- medianrentps %>% ggplot(aes(x=date,y=values,colour=Suburb))+geom_line()
#ggplotly(medianrentps_plot)
#identify regression trees. this will help to identify regions of similar trend
medianrentps_rp <- rpart(values~date,data=medianrentps,control=rpart.control(minsplit=3))
medianrentps_pred <- medianrentps %>% mutate(pred=predict(medianrentps_rp,medianrentps))
medianrentps_rp_plot <- ggplot(medianrentps_pred) + geom_point(aes(x=date,y=values)) + geom_line(aes(x=date,y=pred),colour="orange",size=1.5)
medianrentps_rp_plot
ggplotly(medianrentps_rp_plot)
#tidy data into usable form, keeping suburb, values and date
medianrentps <- all_medianp %>%
mutate(date=paste("01-",month,"-",year)) %>%
mutate(date=dmy(date)) %>%
select("Suburb","values","date") %>%
mutate(values=as.numeric(values))
medianrentps_plot <- medianrentps %>% ggplot(aes(x=date,y=values,colour=Suburb))+geom_line()
#ggplotly(medianrentps_plot)
#identify regression trees. this will help to identify regions of similar trend
medianrentps_rp <- rpart(values~date,data=medianrentps,control=rpart.control(minsplit=3))
medianrentps_pred <- medianrentps %>% filter(Suburb == "Bayside") %>% mutate(pred=predict(medianrentps_rp,medianrentps))
#identify regression trees. this will help to identify regions of similar trend
medianrentps_rp <- medianrentps %>% filter(Suburb == "Bayside") %>% rpart(values~date,control=rpart.control(minsplit=3))
#ggplotly(medianrentps_plot)
medianrentps <- medianrentps %>% filter(Suburb=="Bayside")
#tidy data into usable form, keeping suburb, values and date
medianrentps <- all_medianp %>%
mutate(date=paste("01-",month,"-",year)) %>%
mutate(date=dmy(date)) %>%
select("Suburb","values","date") %>%
mutate(values=as.numeric(values))
medianrentps_plot <- medianrentps %>% ggplot(aes(x=date,y=values,colour=Suburb))+geom_line()
#ggplotly(medianrentps_plot)
medianrentps <- medianrentps %>% filter(Suburb=="Bayside")
#identify regression trees. this will help to identify regions of similar trend
medianrentps_rp <- rpart(values~date,data=medianrentps,control=rpart.control(minsplit=3))
medianrentps_pred <- medianrentps %>% mutate(pred=predict(medianrentps_rp,medianrentps))
medianrentps_rp_plot <- ggplot(medianrentps_pred) + geom_point(aes(x=date,y=values)) + geom_line(aes(x=date,y=pred),colour="orange",size=1.5)
ggplotly(medianrentps_rp_plot)
#identify regression trees. this will help to identify regions of similar trend
medianrentps_rp <- rpart(values~date,data=medianrentps,control=rpart.control(minsplit=1))
#tidy data into usable form, keeping suburb, values and date
medianrentps <- all_medianp %>%
mutate(date=paste("01-",month,"-",year)) %>%
mutate(date=dmy(date)) %>%
select("Suburb","values","date") %>%
mutate(values=as.numeric(values))
medianrentps_plot <- medianrentps %>% ggplot(aes(x=date,y=values,colour=Suburb))+geom_line()
#ggplotly(medianrentps_plot)
medianrentps <- medianrentps %>% filter(Suburb=="Bayside")
#identify regression trees. this will help to identify regions of similar trend
medianrentps_rp <- rpart(values~date,data=medianrentps,control=rpart.control(maxsplit=3))
medianrentps_pred <- medianrentps %>% mutate(pred=predict(medianrentps_rp,medianrentps))
medianrentps_rp_plot <- ggplot(medianrentps_pred) + geom_point(aes(x=date,y=values)) + geom_line(aes(x=date,y=pred),colour="orange",size=1.5)
ggplotly(medianrentps_rp_plot)
#identify regression trees. this will help to identify regions of similar trend
medianrentps_rp <- rpart(values~date,data=medianrentps,control=rpart.control(minsplit=3))
#tidy data into usable form, keeping suburb, values and date
medianrentps <- all_medianp %>%
mutate(date=paste("01-",month,"-",year)) %>%
mutate(date=dmy(date)) %>%
select("Suburb","values","date") %>%
mutate(values=as.numeric(values))
medianrentps_plot <- medianrentps %>% ggplot(aes(x=date,y=values,colour=Suburb))+geom_line()
#ggplotly(medianrentps_plot)
medianrentps <- medianrentps %>% filter(Suburb=="Bayside")
#identify regression trees. this will help to identify regions of similar trend
medianrentps_rp <- rpart(values~date,data=medianrentps,control=rpart.control(minsplit=3))
medianrentps_pred <- medianrentps %>% mutate(pred=predict(medianrentps_rp,medianrentps))
medianrentps_rp_plot <- ggplot(medianrentps_pred) + geom_point(aes(x=date,y=values)) + geom_line(aes(x=date,y=pred),colour="orange",size=1.5)
ggplotly(medianrentps_rp_plot)
#tidy data into usable form, keeping suburb, values and date
medianrentps <- all_medianp %>%
mutate(date=paste("01-",month,"-",year)) %>%
mutate(date=dmy(date)) %>%
select("Suburb","values","date") %>%
mutate(values=as.numeric(values))
medianrentps_plot <- medianrentps %>% ggplot(aes(x=date,y=values,colour=Suburb))+geom_line()
#ggplotly(medianrentps_plot)
#medianrentps <- medianrentps %>% filter(Suburb=="Bayside")
#identify regression trees. this will help to identify regions of similar trend
medianrentps_rp <- rpart(values~date,data=medianrentps,control=rpart.control(minsplit=3))
medianrentps_pred <- medianrentps %>% mutate(pred=predict(medianrentps_rp,medianrentps))
medianrentps_rp_plot <- ggplot(medianrentps_pred) + geom_point(aes(x=date,y=values)) + geom_line(aes(x=date,y=pred),colour="orange",size=1.5)
ggplotly(medianrentps_rp_plot)
glimpse(medianrentps)
#the types of data given by the ABS regional data is numerous.
unique(abslgadata$`Data Item`)
#the types of data given by the ABS regional data is numerous.
unique(abslgadata$`Data Items`)
#the types of data given by the ABS regional data is numerous.
unique(abslgadata$`Data item`)
#the types of data given by the ABS regional data is numerous.
as_tibble(unique(abslgadata$`Data item`))
#this shows that there are a total of 398 different data items! majority of this data is collected annually, however some of these data items have missing data items
vis_dat(abslgadata)
#this shows that there are a total of 398 different data items! majority of this data is collected annually, however some of these data items have missing data items
vis_dat(abslgadata,warn_large_data=FALSE)
#unique(abslgadata$`Data item`) #Shows unique data items within abslgadata
#unique(abslgadata$Region) #Shows unique LGAs within abslgadata
glimpse(abslgadata)
#this shows that there are a total of 398 different data items! majority of this data is collected annually, however some of these data items have missing data items
abslgadata %>% spread(key=Time,value=Value)
vis_dat(abslgadata_spreadbyyear,warn_large_data=FALSE)
#this shows that there are a total of 398 different data items! majority of this data is collected annually, however some of these data items have missing data items
abslgadata_spreadbyyear <- abslgadata %>% spread(key=Time,value=Value)
vis_dat(abslgadata_spreadbyyear,warn_large_data=FALSE)
#we then remove the data that has less than 6 data points and see what information we're left with. we do not wish to impute the missing values as it may be making the incorrect assumption that the change of all these data items are related to each other per LGA.
abslgadata %>% group_by(`Data item`,Region) %>% summarise(count = count(Time),na.rm=TRUE)
#we then remove the data that has less than 6 data points and see what information we're left with. we do not wish to impute the missing values as it may be making the incorrect assumption that the change of all these data items are related to each other per LGA.
abslgadata %>% group_by(`Data item`,Region) %>% summarise(count = count(Time,na.rm=TRUE))
#we then remove the data that has less than 6 data points and see what information we're left with. we do not wish to impute the missing values as it may be making the incorrect assumption that the change of all these data items are related to each other per LGA.
abslgadata %>% group_by(`Data item`,Region) %>% summarise(count = count(Time)
#we then remove the data that has less than 6 data points and see what information we're left with. we do not wish to impute the missing values as it may be making the incorrect assumption that the change of all these data items are related to each other per LGA.
abslgadata_countyears <- abslgadata %>% group_by(`Data item`,Region) %>% summarise(count = count(Time))
abslgadata_countyears
#we then remove the data that has less than 6 data points and see what information we're left with. we do not wish to impute the missing values as it may be making the incorrect assumption that the change of all these data items are related to each other per LGA.
abslgadata_countyears <- abslgadata %>% group_by(`Data item`,Region) %>% summarise(count = count(Time))
abslgadata_countyears
View(abslgadata_countyears)
View(abslgadata_countyears)
#we then remove the data that has less than 6 data points and see what information we're left with. we do not wish to impute the missing values as it may be making the incorrect assumption that the change of all these data items are related to each other per LGA.
abslgadata_countyears <- abslgadata %>% group_by(`Data item`,Region) %>% summarise(count = count(Time))
abslgadata_countyears
#we then remove the data that has less than 6 data points and see what information we're left with. we do not wish to impute the missing values as it may be making the incorrect assumption that the change of all these data items are related to each other per LGA.
abslgadata_countyears <- abslgadata %>% group_by(`Data item`,Suburb) %>% summarise(count = count(Time))
#we then remove the data that has less than 6 data points and see what information we're left with. we do not wish to impute the missing values as it may be making the incorrect assumption that the change of all these data items are related to each other per LGA.
abslgadata_countyears <- abslgadata %>% group_by(`Data item`,Region) %>% summarise(count = count(Time))
abslgadata_countyears
#we then remove the data that has less than 6 data points and see what information we're left with. we do not wish to impute the missing values as it may be making the incorrect assumption that the change of all these data items are related to each other per LGA.
abslgadata_countyears <- abslgadata %>% group_by(`Data item`,Region) %>% summarise(count = count(Value))
abslgadata_countyears
