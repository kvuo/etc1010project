library(maptools)
library(learnr)
knitr::opts_chunk$set(echo = TRUE,
message = FALSE,
warning = FALSE,
collapse = TRUE,
fig.height = 6,
fig.width = 6,
fig.align = "center",
cache = FALSE)
tutorial_html_dependency()
library(tidyverse)
library(plotly)
library(readxl)
library(visdat)
library(foreign)
library(maptools)
lganames <- read.dbf("data/VIC_LGA_POLYGON_shp.dbf")
lgapoly <- readShapePoly("data/VIC_LGA_POLYGON_shp.shp")
lganames <- read.dbf("data/VIC_LGA_POLYGON_shp.dbf")
lgapoly <- readShapePoly("data/VIC_LGA_POLYGON_shp.shp")
lganames <- read.dbf("data/VIC_LGA_POLYGON_shp.dbf")
lgapoly <- readShapePoly("data/VIC_LGA_POLYGON_shp.shp")
library(learnr)
knitr::opts_chunk$set(echo = TRUE,
message = FALSE,
warning = FALSE,
collapse = TRUE,
fig.height = 6,
fig.width = 6,
fig.align = "center",
cache = FALSE)
tutorial_html_dependency()
library(tidyverse)
library(plotly)
library(readxl)
library(visdat)
library(foreign)
library(maptools)
library(ggmap)
lgamap <- get_map(location = c(lon = 37.4713, lat = 144.7852))
lgamap <- get_map(location = c(lon = 144.7852, lat = 37.4713))
lgamap <- get_map(location = c(lon = 144.7852, lat = -37.4713))
lgamap <- get_map(location = c(lon = 144.7852, lat = 37.4713), zoom=5)
lgamap <- get_map(location = c(lon = 144.7852, lat = -37.4713), zoom=5)
#lgamap <- get_map(location = c(lon = 144.7852, lat = -37.4713), zoom=5)
oz <- get_map(location=c(lon=133.8807,lat=-23.6980),zoom=4)
#lgamap <- get_map(location = c(lon = 144.7852, lat = -37.4713), zoom=5)
oz <- get_map(location=c(lon=133.8807,lat=-23.6980),zoom=4)
#lgamap <- get_map(location = c(lon = 144.7852, lat = -37.4713), zoom=5)
oz <- get_map(location=c(lon=133.8807,lat=-23.6980),zoom=4)
=======
>>>>>>> b8f67739b91ab09b10bfa4598bb1e2512ed58642
library(devtools)
install_github("dkahle/ggmap")
library(ggmap)
library(learnr)
knitr::opts_chunk$set(echo = TRUE,
message = FALSE,
warning = FALSE,
collapse = TRUE,
fig.height = 6,
fig.width = 6,
fig.align = "center",
cache = FALSE)
tutorial_html_dependency()
library(tidyverse)
library(plotly)
library(readxl)
library(visdat)
library(foreign)
library(maptools)
library(ggmap)
lganames <- read.dbf("data/VIC_LGA_POLYGON_shp.dbf")
lgapoly <- readShapePoly("data/VIC_LGA_POLYGON_shp.shp")
lgamap <- get_map(location = c(lon = 144.7852, lat = -37.4713), zoom=5)
View(all)
#lganames <- read.dbf("data/VIC_LGA_POLYGON_shp.dbf")
#lgapoly <- readShapePoly("data/VIC_LGA_POLYGON_shp.shp")
lgamap <- get_map(location = c(lon = 144.7852, lat = -37.4713), zoom=5)
library(learnr)
knitr::opts_chunk$set(echo = TRUE,
message = FALSE,
warning = FALSE,
collapse = TRUE,
fig.height = 6,
fig.width = 6,
fig.align = "center",
cache = FALSE)
tutorial_html_dependency()
library(tidyverse)
library(plotly)
library(readxl)
library(visdat)
library(foreign)
library(maptools)
library(ggmap)
lganames <- read.dbf("data/VIC_LGA_POLYGON_shp.dbf")
lgapoly <- readShapePoly("data/VIC_LGA_POLYGON_shp.shp")
lgamap <- get_map(location = c(lon = 144.7852, lat = -37.4713), zoom=5)
ggmap(lgapoly) +
geom_polygon(aes(x = long,
y = lat,
group = group),
data = area.points,
color = colors[9],
fill = colors[6],
alpha = 0.5) +
labs(x = "Longitude",
y = "Latitude")
ï¼Ÿggmap()
?ggmap
lganames <- read.dbf("data/VIC_LGA_POLYGON_shp.dbf")
lgapoly <- readShapePoly("data/VIC_LGA_POLYGON_shp.shp")
lgamap <- get_map(location = c(lon = 144.7852, lat = -37.4713), zoom=5)
ggmap(lgapoly) +
geom_polygon(aes(x = long,
y = lat,
group = group),
data = area.points,
color = colors[9],
fill = colors[6],
alpha = 0.5) +
labs(x = "Longitude",
y = "Latitude")
lganames <- read.dbf("data/VIC_LGA_POLYGON_shp.dbf")
lgapoly <- readShapePoly("data/VIC_LGA_POLYGON_shp.shp")
lgamap <- get_map(location = c(lon = 144.7852, lat = -37.4713), zoom=5)
ggmap(lgamap) +
geom_polygon(aes(x = long,
y = lat,
group = group),
data = area.points,
color = colors[9],
fill = colors[6],
alpha = 0.5) +
labs(x = "Longitude",
y = "Latitude")
lganames <- read.dbf("data/VIC_LGA_POLYGON_shp.dbf")
lgapoly <- readShapePoly("data/VIC_LGA_POLYGON_shp.shp")
lgamap <- get_map(location = c(lon = 144.7852, lat = -37.4713), zoom=5)
lganames <- read.dbf("data/VIC_LGA_POLYGON_shp.dbf")
lgapoly <- readShapePoly("data/VIC_LGA_POLYGON_shp.shp")
lgamap <- get_map(location = c(lon = 144.7852, lat = -37.4713), zoom=5)
ggmap(lgamap) +
geom_polygon(aes(x = long,
y = lat,
group = group),
data = area.points,
color = 'red',
fill = colors[6],
alpha = 0.5) +
labs(x = "Longitude",
y = "Latitude")
lganames <- read.dbf("data/VIC_LGA_POLYGON_shp.dbf")
lgapoly <- readShapePoly("data/VIC_LGA_POLYGON_shp.shp")
lgamap <- get_map(location = c(lon = 144.7852, lat = -37.4713), zoom=5)
ggmap(lgamap) +
geom_polygon(aes(x = long,
y = lat,
group = group),
data = area.points,
color = 'red',
fill = 'blue',
alpha = 0.5) +
labs(x = "Longitude",
y = "Latitude")
ggmap(lgamap) +
geom_polygon(aes(x = long,
y = lat,
group = group),
#data = area.points,
color = 'red',
fill = 'blue',
alpha = 0.5) +
labs(x = "Longitude",
y = "Latitude")
ggmap(lgamap) +
geom_polygon(aes(x = long,
y = lat,
group = group),
data = area.points,
color = 'red',
fill = 'blue',
alpha = 0.5) +
labs(x = "Longitude",
y = "Latitude")
View(lgamap)
ggmap(lgamap) +
geom_polygon(aes(x = long,
y = lat,
group = group),
data = area.points,
color = colors[9],
fill = colors[6],
alpha = 0.5) +
labs(x = "Longitude",
y = "Latitude")
library(learnr)
knitr::opts_chunk$set(echo = TRUE,
message = FALSE,
warning = FALSE,
collapse = TRUE,
fig.height = 6,
fig.width = 6,
fig.align = "center",
cache = FALSE)
tutorial_html_dependency()
library(tidyverse)
library(plotly)
library(readxl)
library(visdat)
library(foreign)
library(maptools)
library(ggmap)
lganames <- read.dbf("data/VIC_LGA_POLYGON_shp.dbf")
lgapoly <- readShapePoly("data/VIC_LGA_POLYGON_shp.shp")
#lgamap <- get_map(location = c(lon = 144.7852, lat = -37.4713), zoom=5)
ggmap(lgapoly) +
geom_polygon(aes(x = long,
y = lat,
group = group),
data = area.points,
color = colors[9],
fill = colors[6],
alpha = 0.5) +
labs(x = "Longitude",
y = "Latitude")
lganames <- read.dbf("data/VIC_LGA_POLYGON_shp.dbf")
lgapoly <- readShapePoly("data/VIC_LGA_POLYGON_shp.shp")
lgamap <- get_map(location = c(lon = 144.7852, lat = -37.4713), zoom=5)
library(learnr)
knitr::opts_chunk$set(echo = TRUE,
message = FALSE,
warning = FALSE,
collapse = TRUE,
fig.height = 6,
fig.width = 6,
fig.align = "center",
cache = FALSE)
tutorial_html_dependency()
library(tidyverse)
library(plotly)
library(readxl)
library(visdat)
library(foreign)
library(maptools)
library(ggmap)
LGACouncil <- read_csv("data/fileslocalgovt.csv")
LatLon <- read_csv("data/Australian_Post_Codes_Lat_Lon 2.csv")
View(LGACouncil)
View(LatLon)
View(LatLon)
LatLon <- LatLon %>% filter(state == 'VIC')
LGACouncil <- LGACouncil['Name','Postcode','LGA']
LGACouncil <- LGACouncil[,c(1,4,7)]
?left_join
LatLon <- rename('Postcode' == 'postcode')
?rename
LatLon <- rename(LatLon, replace = c('postcode' == 'Postcode'))
LatLon <- rename(LatLon, replace = c('Postcode' == 'postcode'))
rename(LatLon, "postcode" = "Postcode")
rename(LatLon, c("postcode" = "Postcode"))
rename(LatLon, "postcode" = "Postcode")
LatLon <- Latlon[,c(1,2,6,7)]
LatLon <- LatLon[,c(1,2,6,7)]
LGACouncil <- read_csv("data/fileslocalgovt.csv")
LatLon <- read_csv("data/Australian_Post_Codes_Lat_Lon 2.csv")
LatLon <- LatLon[,c(1,2,6,7)]
LatLon <- LatLon %>% filter(state == 'VIC')
LatLon <- read_csv("data/Australian_Post_Codes_Lat_Lon 2.csv")
LatLon <- LatLon[,c(1,2,3,6,7)]
LatLon <- LatLon %>% filter(state == 'VIC')
LGACouncil <- LGACouncil[,c(1,4,7)]
LatLon <- LatLon $>$ mutate(Postcode = postcode)
LatLon <- LatLon %>% mutate(Postcode = postcode)
LatLon <- LatLon[,c(6,2,4,5)]
?left_join
LGAjoin <- left_join(LGACouncil,LatLon, by=Postcode)
LGAjoin <- left_join(LGACouncil,LatLon, by=Postcode)
LGAjoin <- left_join(LGACouncil,LatLon, by='Postcode')
View(LGAjoin)
LGA_mod <- LGAjoin %>% group_by('LGA')
View(LGA_mod)
LGA_mod <- LGAjoin %>% group_by(LGA)
?average
?mean
LGA_mod <- LGAjoin %>% group_by(LGA) %>% mutate(avg_lat = mean(lat),avg_lon = mean(lon))
LGA_mod[!dupliecated(LGA_mod$LGA)]
LGA_mod[!duplicated(LGA_mod$LGA)]
?duplicated
LGA_mod <- LGA_mod %>% unique(by=LGA)
LGA_mod <- LGA_mod %>% unique(by=LGA)
LGA_mod <- LGA_mod %>% unique(by='LGA')
LGA_mod[unique(LGA_mod$LGA)]
LGA_mod[,unique(LGA_mod$LGA)]
LGA_mod[unique(LGA_mod$LGA),]
LGA_mod[(LGA_mod),]
LGA_mod[duplicated(LGA_mod),]
LGA_mod[duplicated(LGA_mod$LGA),]
LGA_mod[!duplicated(LGA_mod$LGA),]
LGA <- LGA_mod[!duplicated(LGA_mod$LGA),]
View(LGA)
LGA <- LGA[,-c(5,6)]
View(all)
View(LGA_mod)
LGA <- LGA_mod[!duplicated(LGA_mod$LGA),]
LGA <- LGA[,-c(1,5,6)]
LGA <- LGA_mod[!duplicated(LGA_mod$LGA),]
LGA <- LGA[,-c(1,4,5,6)]
LGA <- LGA[,c(2,1,3,4)]
?separate
LGA <- LGA %>% separate(LGA,sep=" ")
LGA <- LGA %>% separate(LGA,sep=" ",c("LGA","Index"))
LGA <- LGA %>% separate(LGA,sep=" ",c("LGA","Index")) %>% LGA[,-2]
LGA <- LGA %>% separate(LGA,sep=" ",c("LGA","Index")) %>% LGA[,-c(2)]
LGA <- LGA %>% separate(LGA,sep=" ",c("LGA","Index"))
LGA <- LGA_mod[!duplicated(LGA_mod$LGA),]
LGA <- LGA[,-c(1,4,5,6)]
LGA <- LGA[,c(2,1,3,4)]
LGA <- LGA %>% separate(LGA,sep=" ",c("LGA","Index"))
LGA <- LGA[,-2]
View(all)
View(LGA)
?count
View(all_f)
View(LGA)
View(LGA_mod)
library(learnr)
knitr::opts_chunk$set(echo = TRUE,
message = FALSE,
warning = FALSE,
collapse = TRUE,
fig.height = 6,
fig.width = 6,
fig.align = "center",
cache = FALSE)
tutorial_html_dependency()
library(tidyverse)
library(plotly)
library(readxl)
library(visdat)
library(foreign)
library(maptools)
library(ggmap)
LGA_mod <- LGAjoin %>% group_by(LGA) %>% mutate(avg_lat = mean(lat),avg_lon = mean(lon))
LGA <- LGA_mod[!duplicated(LGA_mod$LGA),]
LGA <- LGA[,-c(1,4,5,6)]
LGA <- LGA[,c(2,1,3,4)]
LGA <- LGA %>% separate(LGA,sep="(",c("LGA","Index"))
LGA <- LGA %>% separate(LGA,sep=" ",c("LGA","Index"))
LGA <- LGA_mod[!duplicated(LGA_mod$LGA),]
LGA <- LGA[,-c(1,4,5,6)]
LGA <- LGA[,c(2,1,3,4)]
LGA <- LGA %>% separate(LGA,sep=" (",c("LGA","Index"))
?separate
LGA <- LGA %>% separate(LGA,sep="[^[:alnum:]]+",c("LGA","Index"))
LGA <- LGA_mod[!duplicated(LGA_mod$LGA),]
LGA <- LGA[,-c(1,4,5,6)]
LGA <- LGA[,c(2,1,3,4)]
?separate
L <- LGA %>% separate(LGA,sep="(",c("LGA","Index"))
L <- LGA %>% separate(LGA,sep=(,c("LGA","Index"))
L <- LGA %>% separate(LGA,sep="\("",c("LGA","Index"))
L <- LGA %>% separate(LGA,sep="\(",c("LGA","Index"))
L <- LGA %>% separate(LGA,sep="/(",c("LGA","Index"))
L <- LGA %>% separate(LGA,sep=" ",c("LGA","Index"))
View(L)
L <- LGA %>% separate(LGA,sep="(S)",c("LGA","Index"))
L <- LGA %>% separate(LGA,sep="()",c("LGA","Index"))
L <- LGA %>% separate(LGA,sep=" (",c("LGA","Index"))
L <- LGA %>% separate(LGA,sep="S",c("LGA","Index"))
L <- LGA %>% separate(LGA,sep="[(]",c("LGA","Index"))
LGA <- LGA[,-2]
LGA <- LGA_mod[!duplicated(LGA_mod$LGA),]
LGA <- LGA[,-c(1,4,5,6)]
LGA <- LGA[,c(2,1,3,4)]
LGA <- LGA %>% separate(LGA,sep="[(]",c("LGA","Index"))
LGA <- LGA[,-2]
View(all_medianp_2018)
library(learnr)
knitr::opts_chunk$set(echo = TRUE,
message = FALSE,
warning = FALSE,
collapse = TRUE,
fig.height = 6,
fig.width = 6,
fig.align = "center",
cache = FALSE)
tutorial_html_dependency()
library(tidyverse)
library(plotly)
library(readxl)
library(visdat)
library(foreign)
library(maptools)
library(ggmap)
# to retrieve the average lat and lon from the files
LGACouncil <- read_csv("data/fileslocalgovt.csv")
LatLon <- read_csv("data/Australian_Post_Codes_Lat_Lon 2.csv")
LatLon <- LatLon[,c(1,2,3,6,7)]
LatLon <- LatLon %>% filter(state == 'VIC')
LatLon <- LatLon %>% mutate(Postcode = postcode)
LatLon <- LatLon[,c(6,2,4,5)]
LGACouncil <- LGACouncil[,c(1,4,7)]
LGAjoin <- left_join(LGACouncil,LatLon, by='Postcode')
LGA_mod <- LGAjoin %>% group_by(LGA) %>% mutate(avg_lat = mean(lat),avg_lon = mean(lon))
LGA <- LGA_mod[!duplicated(LGA_mod$LGA),]
LGA <- LGA[,-c(1,4,5,6)]
LGA <- LGA[,c(2,1,3,4)]
LGA <- LGA %>% separate(LGA,sep="[(]",c("LGA","Index"))
LGA <- LGA[,-2]
all_medianp_2018 <- all_medianp %>% filter(year == 2018)
all_medianp_2018 <- all_medianp_2018 %>% mutate(LGA = Suburb)
all_medianp_2018 <- all_medianp_2018[,c(6,2,3,4,5)]
2018_loc <- left_join(all_medianp_2018,LGA,by = "LGA")
2018_loc <- left_join(all_medianp_2018,LGA,by = "LGA")
2018loc <- left_join(all_medianp_2018,LGA,by = "LGA")
loc_2018 <- left_join(all_medianp_2018,LGA,by='LGA')
View(loc_2018)
loc_2018 <- left_join(LGA,all_medianp_2018,by='LGA')
LGA <- LGA %>% arrange(LGA)
all_medianp_2018 <- all_medianp_2018 %>% arrange(LGA)
loc_2018 <- left_join(LGA,all_medianp_2018,by='LGA')
?join
loc_2018 <- inner_join(LGA,all_medianp_2018,by='LGA')
loc_2018 <- join(LGA,all_medianp_2018,type = 'inner',by='LGA')
library(plyr)
loc_2018 <- inner_join(LGA,all_medianp_2018,by='LGA')
loc_2018 <- left_join(LGA,all_medianp_2018,by='LGA')
loc_2018 <- right_join(LGA,all_medianp_2018,by='LGA')
all_medianp_2018 <- all_medianp_2018 %>% separate(LGA,sep=' ',c("LGA","Space"))
all_medianp_2018 <- all_medianp %>% filter(year == 2018)
all_medianp_2018 <- all_medianp_2018 %>% mutate(LGA = Suburb)
all_medianp_2018 <- all_medianp_2018[,c(6,2,3,4,5)]
View(LGA)
x <- "  Some text. "
x
trimws(x)
x <- "  Some text. "
trimws(x, "l")
trimws(x, "r")
LGA <- LGA %>% trimws(LGA$LGA,"r")
LGA <- LGA %>% trimws(LGA,"r")
LGA <- trimws(LGA$LGA,"r")
LGA <- LGA_mod[!duplicated(LGA_mod$LGA),]
LGA <- LGA[,-c(1,4,5,6)]
LGA <- LGA[,c(2,1,3,4)]
LGA <- LGA %>% separate(LGA,sep="[(]",c("LGA","Index"))
LGA <- LGA[,-2]
LGA_col <- LGA[,1]
View(LGA_col)
LGA_col <- trimws(LGA_col,"r")
LGA_col <- as.data.frame(LGA_col)
View(LGA_col)
LGA_col <- LGA[,1]
LGA_col <- trimws(LGA_col,"r")
is.vector(LGA_col)
data.frame(LGA_col,values)
LGA <- LGA_mod[!duplicated(LGA_mod$LGA),]
LGA <- LGA[,-c(1,4,5,6)]
LGA <- LGA[,c(2,1,3,4)]
LGA <- LGA %>% separate(LGA,sep="[\s(]",c("LGA","Index"))
LGA <- LGA %>% separate(LGA,sep="[ (]",c("LGA","Index"))
LGA <- LGA[,-2]
LGA <- LGA %>% arrange(LGA)
all_medianp_2018 <- all_medianp_2018 %>% arrange(LGA)
loc_2018 <- right_join(LGA,all_medianp_2018,by='LGA')
LGA <- LGA_mod[!duplicated(LGA_mod$LGA),]
LGA <- LGA[,-c(1,4,5,6)]
LGA <- LGA[,c(2,1,3,4)]
LGA <- LGA %>% separate(LGA,sep="[ (]",c("LGA","Index"))
LGA <- LGA %>% separate(LGA,sep=" (",c("LGA","Index"))
LGA <- LGA %>% separate(LGA,sep="^ ($",c("LGA","Index"))
LGA <- LGA %>% separate(LGA,sep="^[ (]$",c("LGA","Index"))
LGA_mod <- LGAjoin %>% group_by(LGA) %>% mutate(avg_lat = mean(lat),avg_lon = mean(lon))
LGA <- LGA_mod[!duplicated(LGA_mod$LGA),]
LGA <- LGA[,-c(1,4,5,6)]
LGA <- LGA[,c(2,1,3,4)]
LGA <- LGA %>% separate(LGA,sep="^[ (]$",c("LGA","Index"))
LGA <- LGA %>% separate(LGA,sep="^[ (]$",c("LGA","Index"))
LGA <- LGA %>% separate(LGA,sep="[ (]",c("LGA","Index"))
LGA_mod <- LGAjoin %>% group_by(LGA) %>% mutate(avg_lat = mean(lat),avg_lon = mean(lon))
LGA <- LGA_mod[!duplicated(LGA_mod$LGA),]
LGA <- LGA %>% separate(LGA,sep="[\s]",c("LGA","Index"))
LGA <- LGA %>% separate(LGA,sep="[^ (]",c("LGA","Index"))
LGA <- LGA_mod[!duplicated(LGA_mod$LGA),]
LGA <- LGA %>% separate(LGA,sep="^[^ (]",c("LGA","Index"))
LGA <- LGA[,-2]
LGA <- LGA_mod[!duplicated(LGA_mod$LGA),]
LGA <- LGA %>% separate(LGA,sep="^[^ (]",c("LGA","Index"))
LGA <- LGA_mod[!duplicated(LGA_mod$LGA),]
LGA <- LGA %>% separate(LGA,sep="[^ (]",c("LGA","Index"))
LGA_mod <- LGAjoin %>% group_by(LGA) %>% mutate(avg_lat = mean(lat),avg_lon = mean(lon))
LGA <- LGA %>% separate(LGA,sep="^[^\(]",c("LGA","Index"))
LGA <- LGA %>% separate(LGA,sep="^[(]",c("LGA","Index"))
LGA <- LGA_mod[!duplicated(LGA_mod$LGA),]
LGA <- LGA %>% separate(LGA,sep="[(]",c("LGA","Index"))
LGA <- LGA_mod[!duplicated(LGA_mod$LGA),]
LGA <- LGA[,-c(1,4,5,6)]
LGA <- LGA[,c(2,1,3,4)]
LGA <- LGA %>% separate(LGA,sep="[(]",c("LGA","Index"))
trim.trailing <- function (x) sub("\\s+$", "", x)
LGA$LGA <- trim(LGA$LGA)
LGA$LGA <- trim.trailing(LGA$LGA)
LGA <- LGA[,-2]
LGA <- LGA %>% arrange(LGA)
all_medianp_2018 <- all_medianp_2018 %>% arrange(LGA)
loc_2018 <- right_join(LGA,all_medianp_2018,by='LGA')
map.tokyo <- get_map("Tokyo")
vic <- get_map(location = c(lon = 144.7852, lat = -37.4713), zoom=5)
vic <- get_map(location=c(lon=133.8807, lat=-23.6980), zoom=4)
